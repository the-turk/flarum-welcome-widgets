module.exports=function(t){var s={};function e(o){if(s[o])return s[o].exports;var n=s[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=s,e.d=function(t,s,o){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var n in t)e.d(o,n,function(s){return t[s]}.bind(null,n));return o},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=13)}([function(t,s){t.exports=flarum.core.compat.app},function(t,s){t.exports=flarum.core.compat["models/User"]},function(t,s){t.exports=flarum.core.compat.Model},function(t,s){t.exports=flarum.core.compat["utils/formatNumber"]},function(t,s){t.exports=flarum.core.compat["helpers/icon"]},function(t,s){t.exports=flarum.core.compat.extend},function(t,s){t.exports=flarum.core.compat["components/IndexPage"]},function(t,s){t.exports=flarum.core.compat["helpers/listItems"]},function(t,s){t.exports=flarum.core.compat["components/Dropdown"]},function(t,s){t.exports=flarum.core.compat["components/SessionDropdown"]},function(t,s){t.exports=flarum.core.compat["helpers/humanTime"]},function(t,s){t.exports=flarum.core.compat["utils/extractText"]},function(t,s){t.exports=flarum.core.compat["components/AvatarEditor"]},function(t,s,e){"use strict";e.r(s);var o=e(5),n=e(0),a=e.n(n),r=e(6),u=e.n(r),i=e(7),c=e.n(i),l=e(4),p=e.n(l),f=e(3),d=e.n(f);var g=e(8),w=e.n(g),v=e(9),x=e.n(v),b=function(t){var s,e;function o(){return t.apply(this,arguments)||this}return e=t,(s=o).prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e,o.initProps=function(s){t.initProps.call(this,s),s.icon="fas fa-ellipsis-v",s.className="IndexPage-stats-dropdown",s.buttonClassName="Button Button--icon Button--flat"},o.prototype.view=function(){return this.props.children=x.a.prototype.items().toArray(),t.prototype.view.call(this)},o}(w.a),h=e(1),y=e.n(h),_=e(2),P=e.n(_),N=e(10),C=e.n(N),L=e(11),I=e.n(L),j=e(12),A=e.n(j),O="the-turk-welcome-widgets.forum.";a.a.initializers.add("the-turk-welcome-widgets",(function(){y.a.prototype.ww_lastLoginDiscussionsCount=P.a.attribute("ww_lastLoginDiscussionsCount"),y.a.prototype.ww_lastLoginPostsCount=P.a.attribute("ww_lastLoginPostsCount"),y.a.prototype.ww_lastLoginUsersCount=P.a.attribute("ww_lastLoginUsersCount"),y.a.prototype.ww_previousLoginAt=P.a.attribute("ww_previousLoginAt");var t=function(t,s){var e,o,n;return(n=0==s?0:(t-s)/s*100)>0?(e="up",o="fas fa-chevron-up"):n<0?(n*=-1,e="down",o="fas fa-chevron-down"):(e="neutral",o="fas fa-minus"),{percentage:n=n.toFixed(1)+"%",icon:o=p()(o+" stats-"+e),badgeClass:"stats-badge stats-"+e+" stats-badge--"+e}};Object(o.extend)(u.a.prototype,"view",(function(s){var e=a.a.session.user;if(e&&e.ww_previousLoginAt()){var o,n,r,u={discussions:a.a.forum.attribute("ww_discussionsCount"),posts:a.a.forum.attribute("ww_postsCount"),users:a.a.forum.attribute("ww_usersCount")},i={discussions:e.ww_lastLoginDiscussionsCount(),posts:e.ww_lastLoginPostsCount(),users:e.ww_lastLoginUsersCount()};s.children.find((function(t){return t.attrs&&t.attrs.className&&t.attrs.className.includes("container")})).children.unshift(m("div",{className:"IndexPage-stats"},m("div",{className:"IndexPage-stats-general"},m("div",{className:"IndexPage-stats-header"},m("h4",{className:"stats-greeting"},function(t,s){var e="welcome",o={username:m("a",{href:a.a.route.user(s)},s.username())};if(t&&t.isValid()){var n=parseFloat(t.format("HH"));e=n>=12&&n<17?"goodAfternoon":n>=17?"goodEvening":"goodMorning"}return a.a.translator.trans(O+e,o)}(moment(),e)),b.component()),m("div",{className:"IndexPage-stats-body"},m("div",{className:"Avatar-container"},A.a.component({user:e}),m("ul",{className:"badges"},c()(e.badges().toArray()))),m("div",{className:"IndexPage-stats-personal"},m("div",null,m("h3",null,d()(e.commentCount())),m("p",null,m("a",{href:a.a.route("user.posts",{username:e.username()})},a.a.translator.trans(O+"posts")))),m("div",null,m("h3",null,d()(e.discussionCount())),m("p",null,m("a",{href:a.a.route("user.discussions",{username:e.username()})},a.a.translator.trans(O+"discussions"))))))),["discussions","posts","users"].map((function(s){switch(s){case"discussions":n=t(o=u.discussions,i.discussions),r="fas fa-bars";break;case"posts":n=t(o=u.posts,i.posts),r="far fa-comment";break;case"users":n=t(o=u.users,i.users),r="far fa-user"}return m("div",{className:"IndexPage-stats-"+s},m("div",{className:"IndexPage-stats-header"},m("div",{className:"IndexPage-stats-icon"},p()(r)),m("h4",null,a.a.translator.trans(O+s))),m("div",{className:"IndexPage-stats-body"},m("div",null,m("h3",null,[d()(o),n.icon]),m("div",null,m("span",{className:n.badgeClass},n.percentage),m("p",{className:"stats-since"},a.a.translator.trans(O+"sinceLastVisit",{span:m("span",{title:I()(C()(e.ww_previousLoginAt().date)),className:"stats-since--text"})}))))))}))))}}))}))}]);
//# sourceMappingURL=forum.js.map