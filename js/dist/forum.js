module.exports=function(t){var s={};function e(n){if(s[n])return s[n].exports;var o=s[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=s,e.d=function(t,s,n){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var o in t)e.d(n,o,function(s){return t[s]}.bind(null,o));return n},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=12)}([function(t,s){t.exports=flarum.core.compat.app},function(t,s){t.exports=flarum.core.compat.Model},function(t,s){t.exports=flarum.core.compat["models/User"]},function(t,s){t.exports=flarum.core.compat["utils/formatNumber"]},function(t,s){t.exports=flarum.core.compat["helpers/icon"]},function(t,s){t.exports=flarum.core.compat.extend},function(t,s){t.exports=flarum.core.compat["components/IndexPage"]},function(t,s){t.exports=flarum.core.compat["helpers/listItems"]},function(t,s){t.exports=flarum.core.compat["components/Dropdown"]},function(t,s){t.exports=flarum.core.compat["components/SessionDropdown"]},function(t,s){t.exports=flarum.core.compat["utils/humanTime"]},function(t,s){t.exports=flarum.core.compat["components/AvatarEditor"]},function(t,s,e){"use strict";e.r(s);var n=e(5),o=e(0),a=e.n(o),r=e(6),i=e.n(r),u=e(7),c=e.n(u),l=e(4),p=e.n(l),f=e(3),d=e.n(f);var g=e(8),w=e.n(g),v=e(9),b=e.n(v),x=function(t){var s,e;function n(){return t.apply(this,arguments)||this}return e=t,(s=n).prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e,n.initProps=function(s){t.initProps.call(this,s),s.icon="fas fa-ellipsis-v",s.className="IndexPage-stats-dropdown",s.buttonClassName="Button Button--icon Button--flat"},n.prototype.view=function(){return this.props.children=b.a.prototype.items().toArray(),t.prototype.view.call(this)},n}(w.a),h=e(2),y=e.n(h),_=e(1),P=e.n(_),N=e(10),C=e.n(N),L=e(11),I=e.n(L),j="the-turk-welcome-widgets.forum.";a.a.initializers.add("the-turk-welcome-widgets",(function(){y.a.prototype.ww_lastLoginDiscussionsCount=P.a.attribute("ww_lastLoginDiscussionsCount"),y.a.prototype.ww_lastLoginPostsCount=P.a.attribute("ww_lastLoginPostsCount"),y.a.prototype.ww_lastLoginUsersCount=P.a.attribute("ww_lastLoginUsersCount"),y.a.prototype.ww_previousLoginAt=P.a.attribute("ww_previousLoginAt",P.a.transformDate);var t=function(t,s){var e,n,o;return(o=0==s?t>0?100:0:(t-s)/s*100)>0?(e="up",n="fas fa-chevron-up"):o<0?(e="down",n="fas fa-chevron-down",o*=-1):(e="neutral",n="fas fa-minus"),o=o>100?"> 100":o>0&&o<.1?"< 0.1":o.toFixed(1).toString(),{percentage:o+="%",icon:n=p()(n+" stats-"+e),badgeClass:"stats-badge stats-"+e+" stats-badge--"+e}};Object(n.extend)(i.a.prototype,"view",(function(s){var e=a.a.session.user;if(e&&e.ww_previousLoginAt()){var n,o,r,i={discussions:a.a.forum.attribute("ww_discussionsCount"),posts:a.a.forum.attribute("ww_postsCount"),users:a.a.forum.attribute("ww_usersCount")},u={discussions:e.ww_lastLoginDiscussionsCount(),posts:e.ww_lastLoginPostsCount(),users:e.ww_lastLoginUsersCount()};s.children.find((function(t){return t.attrs&&t.attrs.className&&t.attrs.className.includes("container")})).children.unshift(m("div",{className:"IndexPage-stats"},m("div",{className:"IndexPage-stats-general"},m("div",{className:"IndexPage-stats-header"},m("h4",{className:"stats-greeting"},function(t,s){var e="welcome",n={username:m("a",{href:a.a.route.user(s)},s.username())};if(t&&t.isValid()){var o=parseFloat(t.format("HH"));e=o>=12&&o<17?"goodAfternoon":o>=17?"goodEvening":"goodMorning"}return a.a.translator.trans(j+e,n)}(moment(),e)),x.component()),m("div",{className:"IndexPage-stats-body"},m("div",{className:"Avatar-container"},I.a.component({user:e}),m("ul",{className:"badges"},c()(e.badges().toArray()))),m("div",{className:"IndexPage-stats-personal"},m("div",null,m("h3",null,d()(e.commentCount())),m("p",null,m("a",{href:a.a.route("user.posts",{username:e.username()})},a.a.translator.trans(j+"posts")))),m("div",null,m("h3",null,d()(e.discussionCount())),m("p",null,m("a",{href:a.a.route("user.discussions",{username:e.username()})},a.a.translator.trans(j+"discussions"))))))),["discussions","posts","users"].map((function(s){switch(s){case"discussions":o=t(n=i.discussions,u.discussions),r="fas fa-bars";break;case"posts":o=t(n=i.posts,u.posts),r="far fa-comment";break;case"users":o=t(n=i.users,u.users),r="far fa-user"}return m("div",{className:"IndexPage-stats-"+s},m("div",{className:"IndexPage-stats-header"},m("div",{className:"IndexPage-stats-icon"},p()(r)),m("h4",null,a.a.translator.trans(j+s))),m("div",{className:"IndexPage-stats-body"},m("div",null,m("h3",null,[d()(n),o.icon]),m("div",null,m("span",{className:o.badgeClass},o.percentage),m("p",{className:"stats-since"},a.a.translator.trans(j+"sinceLastVisit",{span:m("span",{title:C()(e.ww_previousLoginAt()),className:"stats-since--text"})}))))))}))))}}))}))}]);
//# sourceMappingURL=forum.js.map